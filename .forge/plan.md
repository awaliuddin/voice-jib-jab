# voice-jib-jab â€” Master Plan

**Generated by:** Forge Orchestrator v0.2.0
**Date:** 2026-02-12 00:36 UTC
**Tasks:** 13

---

## Task Board

| ID | Title | Agent | Type | Status | Dependencies |
|----|-------|-------|------|--------|-------------|
| T-001 | Design Lane C ControlEngine Scaffold | claude | design | Pending | - |
| T-002 | Implement Lane C ControlEngine Scaffold | codex | implement | Pending | T-001 |
| T-003 | Implement Policy Cancel Output and Fallback Trigger | codex | implement | Pending | T-002 |
| T-004 | Implement AllowedClaimsRegistry Stub | codex | implement | Pending | T-002 |
| T-005 | Implement PIIRedactor Stub | codex | implement | Pending | T-002 |
| T-006 | Implement AuditTrail Event Logging for Lane C | codex | implement | Pending | T-002 |
| T-007 | Implement FallbackPlanner Stub | codex | implement | Pending | T-003 |
| T-008 | Implement Knowledge Pack Retrieval Service | codex | implement | Pending | - |
| T-009 | Implement Retrieval Tool and Facts Pack Injection in Lane B | codex | implement | Pending | T-008 |
| T-010 | Implement Disclaimer Lookup Tool | codex | implement | Pending | - |
| T-011 | Document Lane C ControlEngine and Insurance Stubs | gemini | document | Pending | T-002, T-004, T-005, T-006, T-007 |
| T-012 | Test Lane C Policy Cancel and Fallback | gemini | test | Pending | T-003, T-007 |
| T-013 | Test Knowledge Pack Retrieval and Injection | gemini | test | Pending | T-008, T-009 |

---

## Task Details

### T-001: Design Lane C ControlEngine Scaffold

Design the initial scaffold for Lane C (ControlEngine), including its subcomponents: Moderator (policy classification), ClaimsChecker (AllowedClaimsRegistry match), PIIRedactor, and OverrideController. Specify interfaces, event handling, and how policy decisions are emitted to the event bus. Ensure the design supports policy cancel, audit events, and future extensibility.

### T-002: Implement Lane C ControlEngine Scaffold

Implement the Lane C ControlEngine scaffold as designed, including stubbed versions of Moderator, ClaimsChecker, PIIRedactor, and OverrideController. Ensure the module can receive transcript and response metadata, emit policy decision events, and log audit events. Integrate with the event bus and session manager.

### T-003: Implement Policy Cancel Output and Fallback Trigger

Extend the Lane C ControlEngine and LaneArbitrator to support policy cancel events that immediately stop Lane B audio and trigger fallback handling. Ensure the fallback planner is invoked and the correct arbitration state transitions occur.

### T-004: Implement AllowedClaimsRegistry Stub

Implement the AllowedClaimsRegistry as a stub service that can match claims in transcript or response metadata against an approved claims list. Integrate with Lane C ClaimsChecker and ensure it emits the correct policy decision events.

### T-005: Implement PIIRedactor Stub

Implement a PIIRedactor stub in Lane C that can scan transcript or response metadata for potential PII and redact or flag as configured. Ensure redacted content is used in audit logs and tool calls as appropriate.

### T-006: Implement AuditTrail Event Logging for Lane C

Extend the AuditTrail to support structured logging of all Lane C policy decisions, overrides, and relevant session events. Ensure events are stored in append-only JSONL format and support replay for session timelines.

### T-007: Implement FallbackPlanner Stub

Implement the FallbackPlanner as a stub module that supports safe fallback maneuvers (ask clarifying question, refuse politely, switch to text summary, escalate to human, offer to send email/link). Integrate with LaneArbitrator and Lane C for triggering fallback patterns.

### T-008: Implement Knowledge Pack Retrieval Service

Implement the retrieval service for the NextGen AI Knowledge Pack, including vector search against nxtg_facts.jsonl. Return compact facts pack snippets with source identifiers and enforce token/byte cap. Integrate with Lane B ReasoningEngine for Retrieval-Augmented Generation injection.

### T-009: Implement Retrieval Tool and Facts Pack Injection in Lane B

Implement the tool call in Lane B ReasoningEngine to retrieve facts packs from the retrieval service and inject them into the instruction set for responses about NextGen AI. Ensure citations are included for audit.

### T-010: Implement Disclaimer Lookup Tool

Implement a tool function to look up disclaimers by ID from disclaimers.json and return the text. Integrate with Lane B and Lane C for required disclaimers in responses and policy decisions.

### T-011: Document Lane C ControlEngine and Insurance Stubs

Document the architecture, interfaces, and usage of Lane C ControlEngine and all insurance stubs (PolicyGate, AllowedClaimsRegistry, PIIRedactor, FallbackPlanner, AuditTrail). Include configuration options and extension points.

### T-012: Test Lane C Policy Cancel and Fallback

Write tests to verify that Lane C can emit policy cancel events, Lane B audio is stopped, and fallback is triggered correctly. Test arbitration state transitions and audit logging.

### T-013: Test Knowledge Pack Retrieval and Injection

Write tests to verify the retrieval service returns correct facts packs, enforces token/byte caps, and Lane B injects facts into responses. Test citation inclusion and error handling.

